<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Salad Menu</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet" />
  <style>
    .fade-in {
      animation: fadeIn 1s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .salad-card {
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .salad-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .menu-type-container {
      max-width: 600px;
      margin: 30px auto;
      padding: 20px;
      background: #fffdf6;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0,0,0,0.05);
    }

    h1, h2 {
      text-align: center;
    }

    h2 {
      color: #7b5e57;
      margin-bottom: 20px;
    }

    .weather-suggestion {
      background: #f0f9ff;
      border: 1px solid #cceeff;
      padding: 12px;
      border-radius: 10px;
      font-size: 18px;
      margin-bottom: 20px;
      text-align: center;
      color: #305050;
    }

    .surprise-btn {
      display: block;
      margin: 25px auto 10px;
      padding: 10px 20px;
      font-size: 20px;
      border: none;
      background: #ffe5b4;
      color: #6b4f3b;
      border-radius: 10px;
      cursor: pointer;
      font-family: 'VT323', monospace;
      transition: all 0.2s ease;
    }

    .surprise-btn:hover {
      background-color: #ffddb0;
      transform: scale(1.05);
    }
  </style>
</head>
<body>
  <button onclick="history.back()" class="back-button" aria-label="Go back to previous page">&larr; Back</button>

  <div class="menu-type-container fade-in">
    <!-- ‚òÄÔ∏è Weather-Based Suggestion -->
    <div class="weather-suggestion" id="weatherTip">Checking today‚Äôs salad vibe...</div>

    <h1>Choose Your Salad Type</h1>
    <h2>What are you craving today?</h2>
    <div class="card-container">
      <a href="salad-list.html?type=veg" class="salad-card veg" aria-label="Order vegetarian salads">
        ü•¨<br>Veg Salads
      </a>
      <a href="salad-list.html?type=nonveg" class="salad-card nonveg" aria-label="Order non-vegetarian salads">
        üçó<br>Non-Veg Salads
      </a>
    </div>

    <!-- üé≤ Surprise Me! Button -->
    <button class="surprise-btn" onclick="surpriseOrder()">üé≤ Surprise Me!</button>
  </div>

  <script>
    // üéØ Surprise Me Logic
    function surpriseOrder() {
      const salads = ["Spinach Mexican", "Caesar Crunch", "Chickpea Burst", "Grilled Chicken", "Tofu Thai"];
      const toppings = ["Crispy Onions", "Feta Cubes", "Roasted Corn", "Boiled Egg"];
      const dressings = ["Mint Yogurt", "Spicy Mayo", "Classic Vinaigrette"];

      const rand = arr => arr[Math.floor(Math.random() * arr.length)];

      const combo = {
        salad: rand(salads),
        topping: rand(toppings),
        dressing: rand(dressings)
      };

      const total = 189;
      const discounted = Math.random() < 0.5; // 50% chance of discount
      const finalTotal = discounted ? total * 0.9 : total;

      alert(
        `üéâ Your Surprise Combo:\nü•ó Salad: ${combo.salad}\n‚ûï Topping: ${combo.topping}\nüíß Dressing: ${combo.dressing}\n\nTotal: ‚Çπ${finalTotal.toFixed(0)}${discounted ? " (10% OFF!)" : ""}`
      );

      // Optional: Store in localStorage or redirect to payment/order page
    }

    // üå¶Ô∏è Weather-based Suggestion (uses Open-Meteo, no API key)
    async function fetchWeatherSuggestion() {
      try {
        const res = await fetch('https://api.open-meteo.com/v1/forecast?latitude=28.6139&longitude=77.2090&current_weather=true');
        const data = await res.json();
        const temp = data.current_weather.temperature;
        const suggestion = document.getElementById('weatherTip');

        if (temp > 30) {
          suggestion.textContent = `üåû Hot day! Try a refreshing Mint Yogurt Chickpea Salad üçÉ`;
        } else if (temp < 20) {
          suggestion.textContent = `ü•∂ Chilly outside! Fuel up with a hearty Grilled Chicken Salad üçó`;
        } else {
          suggestion.textContent = `üå§Ô∏è Great weather for any salad! Maybe a Tofu Thai with Classic Dressing? ü•ó`;
        }
      } catch (err) {
        document.getElementById('weatherTip').textContent = "üåà Weather vibes unavailable. Choose freely!";
      }
    }

    fetchWeatherSuggestion();
  </script>
</body>
</html>
